import{a as qe,b as Ue}from"./chunk-AK5KF7PQ.js";import{$ as Be,A as P,Aa as ge,B as re,Ba as _e,C as ie,Ca as he,D as p,E as oe,F as ne,G as ae,H as _,Ia as et,J as me,K as le,L as ce,N as Le,O as Fe,P as Re,Q as Ae,T as Ve,V as pe,W as de,X as se,Z as ue,_ as fe,ba as Oe,i as Ee,ka as je,la as Ge,ma as ze,na as He,oa as $e,pa as Qe,qa as Ze,r as w,ra as Je,s as te,sa as Ke,t as ke,ta as We,u as T,ua as Xe,v as M,w as N,wa as Ye,y as x,z as v}from"./chunk-ZU2ZXMGP.js";import{$a as h,Cb as i,Db as r,Eb as c,Fb as D,Gb as y,Ib as Ce,Lb as g,N as X,Nb as I,Pc as b,Sb as xe,Sc as Me,Tb as ve,Tc as Ne,Ub as Pe,Wb as o,Xb as S,Yb as Se,_a as a,ca as Y,dc as be,ec as we,gc as Te,ma as C,na as ee,rb as u,tb as m,va as J,wa as K}from"./chunk-RJHPHPNE.js";var tt=(()=>{let t=class t{constructor(d,l){this.dialogRef=d,this.product=l}closeDialog(){this.dialogRef.close()}deleteProduct(){this.dialogRef.close(this.product)}};t.\u0275fac=function(l){return new(l||t)(h(w),h(te))},t.\u0275cmp=C({type:t,selectors:[["app-delete-product-dialog"]],decls:21,vars:1,consts:[["mat-dialog-title","",1,"mat-dialog-title"],["svgIcon","shoe-sneaker",1,"mr-2"],[1,"flex-spacer"],["mat-icon-button","",3,"click"],["svgIcon","close"],[1,"text-center","pt-2"],["svgIcon","message-alert","color","warn",1,"icon-lg"],[1,"text-center"],[1,"text-warn"],["align","end",1,"mat-dialog-actions"],["mat-button","","color","basic",3,"click"],["mat-flat-button","","color","primary",3,"click"],["svgIcon","delete"]],template:function(l,n){l&1&&(i(0,"h2",0),c(1,"mat-icon",1),o(2," Delete product "),c(3,"div",2),i(4,"button",3),g("click",function(){return n.closeDialog()}),c(5,"mat-icon",4),r()(),i(6,"mat-dialog-content")(7,"p",5),c(8,"mat-icon",6),r(),i(9,"p",7),o(10," Are you sure you want to delete the product "),i(11,"span",8),o(12),r(),o(13,"? "),r()(),i(14,"mat-dialog-actions",9)(15,"button",10),g("click",function(){return n.closeDialog()}),c(16,"mat-icon",4),o(17," Cancel "),r(),i(18,"button",11),g("click",function(){return n.deleteProduct()}),c(19,"mat-icon",12),o(20," Eliminate "),r()()),l&2&&(a(12),S(n.product.name))},dependencies:[x,v,P,T,N,M]});let e=t;return e})();function dt(e,t){e&1&&(i(0,"mat-error",27),o(1," Name is required "),r())}function st(e,t){e&1&&(i(0,"mat-error",27),o(1," Name must be at least 3 characters "),r())}function ut(e,t){e&1&&(i(0,"mat-error",27),o(1," Name must be less than 50 characters "),r())}function ft(e,t){e&1&&(i(0,"mat-error",27),o(1," Brand is required "),r())}function gt(e,t){e&1&&(i(0,"mat-error",27),o(1," Brand must be at least 3 characters "),r())}function _t(e,t){e&1&&(i(0,"mat-error",27),o(1," Brand must be less than 50 characters "),r())}function ht(e,t){e&1&&(i(0,"mat-error",27),o(1," Color is required "),r())}function Ct(e,t){e&1&&(i(0,"mat-error",27),o(1," Color must be at least 3 characters "),r())}function xt(e,t){e&1&&(i(0,"mat-error",27),o(1," Color must be less than 50 characters "),r())}function vt(e,t){e&1&&(i(0,"mat-error",27),o(1," Category is required "),r())}function Pt(e,t){e&1&&(i(0,"mat-error",27),o(1," Category must be at least 3 characters "),r())}function Et(e,t){e&1&&(i(0,"mat-error",27),o(1," Category must be less than 50 characters "),r())}function Dt(e,t){e&1&&(i(0,"mat-error",27),o(1," Price is required "),r())}function yt(e,t){e&1&&(i(0,"mat-error",27),o(1," Price must be greater than 0 "),r())}function It(e,t){e&1&&(i(0,"mat-error",27),o(1," Price must be less than 1000000 "),r())}function St(e,t){e&1&&(i(0,"mat-error",27),o(1," URL is required "),r())}function bt(e,t){e&1&&(i(0,"mat-error",27),o(1," Description is required "),r())}function wt(e,t){e&1&&(i(0,"mat-error",27),o(1," Description must be at least 3 characters "),r())}function Tt(e,t){e&1&&(i(0,"mat-error",27),o(1," Description must be less than 500 characters "),r())}var it=(()=>{let t=class t{constructor(d){this.dialogRef=d,this.form=new ae({name:new _("",[p.required,p.minLength(3),p.maxLength(50)]),brand:new _("",[p.required,p.minLength(3),p.maxLength(50)]),color:new _("",[p.required,p.minLength(3),p.maxLength(50)]),category:new _("",[p.required,p.minLength(3),p.maxLength(50)]),price:new _(0,[p.required,p.min(.01),p.max(1e6)]),description:new _("",[p.required,p.minLength(3),p.maxLength(500)]),imageUrl:new _("",[p.required])})}closeDialog(){this.resetForm(),this.dialogRef.close()}addProduct(){this.form.markAllAsTouched(),!this.form.invalid&&(this.form.get("price")?.setValue(Number(this.form.get("price")?.value)),this.dialogRef.close(this.form.value),this.resetForm())}resetForm(){this.form.reset(),this.form.get("price")?.setValue(0)}};t.\u0275fac=function(l){return new(l||t)(h(w))},t.\u0275cmp=C({type:t,selectors:[["app-create-product-dialog"]],decls:69,vars:20,consts:[["mat-dialog-title","",1,"mat-dialog-title"],["svgIcon","shoe-sneaker",1,"mr-2"],[1,"flex-spacer"],["mat-icon-button","",3,"click"],["svgIcon","close"],[1,"py-2","form",3,"formGroup"],["appearance","outline","color","primary",1,"mat-form-field"],["matInput","","type","text","placeholder","Name...","formControlName","name"],["matPrefix","","svgIcon","shoe-sneaker"],["class","mat-error",4,"ngIf"],["matInput","","type","text","placeholder","Brand...","formControlName","brand"],["matPrefix","","svgIcon","domain"],["matInput","","type","text","placeholder","Color...","formControlName","color"],["matPrefix","","svgIcon","palette"],["matInput","","type","text","placeholder","Category...","formControlName","category"],["matPrefix","","svgIcon","tag"],["matInput","","type","text","placeholder","Price...","formControlName","price","appCurrencyFormatter",""],["matPrefix","","svgIcon","cash"],["matInput","","type","text","placeholder","URL...","formControlName","imageUrl"],["matPrefix","","svgIcon","web"],["appearance","outline","color","primary","id","description-field",1,"mat-form-field"],["matInput","","type","text","placeholder","Description...","formControlName","description","rows","3"],["matPrefix","","svgIcon","form-textbox"],["align","end",1,"mat-dialog-actions"],["mat-button","","color","basic",3,"click"],["mat-flat-button","","color","primary",3,"click"],["svgIcon","plus-circle"],[1,"mat-error"]],template:function(l,n){if(l&1&&(i(0,"h2",0),c(1,"mat-icon",1),o(2," Create product "),c(3,"div",2),i(4,"button",3),g("click",function(){return n.closeDialog()}),c(5,"mat-icon",4),r()(),i(6,"mat-dialog-content")(7,"form",5)(8,"mat-form-field",6)(9,"mat-label"),o(10," Name "),r(),c(11,"input",7)(12,"mat-icon",8),u(13,dt,2,0,"mat-error",9)(14,st,2,0,"mat-error",9)(15,ut,2,0,"mat-error",9),r(),i(16,"mat-form-field",6)(17,"mat-label"),o(18," Brand "),r(),c(19,"input",10)(20,"mat-icon",11),u(21,ft,2,0,"mat-error",9)(22,gt,2,0,"mat-error",9)(23,_t,2,0,"mat-error",9),r(),i(24,"mat-form-field",6)(25,"mat-label"),o(26," Color "),r(),c(27,"input",12)(28,"mat-icon",13),u(29,ht,2,0,"mat-error",9)(30,Ct,2,0,"mat-error",9)(31,xt,2,0,"mat-error",9),r(),i(32,"mat-form-field",6)(33,"mat-label"),o(34," Category "),r(),c(35,"input",14)(36,"mat-icon",15),u(37,vt,2,0,"mat-error",9)(38,Pt,2,0,"mat-error",9)(39,Et,2,0,"mat-error",9),r(),i(40,"mat-form-field",6)(41,"mat-label"),o(42," Price (\u20B9) "),r(),c(43,"input",16)(44,"mat-icon",17),u(45,Dt,2,0,"mat-error",9)(46,yt,2,0,"mat-error",9)(47,It,2,0,"mat-error",9),r(),i(48,"mat-form-field",6)(49,"mat-label"),o(50," Image URL "),r(),c(51,"input",18)(52,"mat-icon",19),u(53,St,2,0,"mat-error",9),r(),i(54,"mat-form-field",20)(55,"mat-label"),o(56," Description "),r(),c(57,"textarea",21)(58,"mat-icon",22),u(59,bt,2,0,"mat-error",9)(60,wt,2,0,"mat-error",9)(61,Tt,2,0,"mat-error",9),r()()(),i(62,"mat-dialog-actions",23)(63,"button",24),g("click",function(){return n.closeDialog()}),c(64,"mat-icon",4),o(65," Cancel "),r(),i(66,"button",25),g("click",function(){return n.addProduct()}),c(67,"mat-icon",26),o(68," Create "),r()()),l&2){let s,E,k,q,U,L,F,R,A,V,B,O,j,G,z,H,$,Q,Z;a(7),m("formGroup",n.form),a(6),m("ngIf",(s=n.form.get("name"))==null?null:s.hasError("required")),a(),m("ngIf",(E=n.form.get("name"))==null?null:E.hasError("minlength")),a(),m("ngIf",(k=n.form.get("name"))==null?null:k.hasError("maxlength")),a(6),m("ngIf",(q=n.form.get("brand"))==null?null:q.hasError("required")),a(),m("ngIf",(U=n.form.get("brand"))==null?null:U.hasError("minlength")),a(),m("ngIf",(L=n.form.get("brand"))==null?null:L.hasError("maxlength")),a(6),m("ngIf",(F=n.form.get("color"))==null?null:F.hasError("required")),a(),m("ngIf",(R=n.form.get("color"))==null?null:R.hasError("minlength")),a(),m("ngIf",(A=n.form.get("color"))==null?null:A.hasError("maxlength")),a(6),m("ngIf",(V=n.form.get("category"))==null?null:V.hasError("required")),a(),m("ngIf",(B=n.form.get("category"))==null?null:B.hasError("minlength")),a(),m("ngIf",(O=n.form.get("category"))==null?null:O.hasError("maxlength")),a(6),m("ngIf",(j=n.form.get("price"))==null?null:j.hasError("required")),a(),m("ngIf",(G=n.form.get("price"))==null?null:G.hasError("min")),a(),m("ngIf",(z=n.form.get("price"))==null?null:z.hasError("max")),a(6),m("ngIf",(H=n.form.get("imageUrl"))==null?null:H.hasError("required")),a(6),m("ngIf",($=n.form.get("description"))==null?null:$.hasError("required")),a(),m("ngIf",(Q=n.form.get("description"))==null?null:Q.hasError("minlength")),a(),m("ngIf",(Z=n.form.get("description"))==null?null:Z.hasError("maxlength"))}},dependencies:[b,me,ie,oe,ne,le,ce,x,v,P,T,N,M,ue,pe,de,se,fe,he],styles:[".form[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;column-gap:16px}#description-field[_ngcontent-%COMP%]{grid-column:1/span 2}"]});let e=t;return e})();function Mt(e,t){e&1&&(i(0,"mat-error",27),o(1," Name is required "),r())}function Nt(e,t){e&1&&(i(0,"mat-error",27),o(1," Name must have at least 3 characters "),r())}function kt(e,t){e&1&&(i(0,"mat-error",27),o(1," Name must have fewer than 50 characters "),r())}function qt(e,t){e&1&&(i(0,"mat-error",27),o(1," Brand is required "),r())}function Ut(e,t){e&1&&(i(0,"mat-error",27),o(1," Brand must have at least 3 characters "),r())}function Lt(e,t){e&1&&(i(0,"mat-error",27),o(1," Brand must have fewer than 50 characters "),r())}function Ft(e,t){e&1&&(i(0,"mat-error",27),o(1," Color is required "),r())}function Rt(e,t){e&1&&(i(0,"mat-error",27),o(1," Color must have at least 3 characters "),r())}function At(e,t){e&1&&(i(0,"mat-error",27),o(1," Color must have fewer than 50 characters "),r())}function Vt(e,t){e&1&&(i(0,"mat-error",27),o(1," Category is required "),r())}function Bt(e,t){e&1&&(i(0,"mat-error",27),o(1," Category must have at least 3 characters "),r())}function Ot(e,t){e&1&&(i(0,"mat-error",27),o(1," Category must have fewer than 50 characters "),r())}function jt(e,t){e&1&&(i(0,"mat-error",27),o(1," Price is required "),r())}function Gt(e,t){e&1&&(i(0,"mat-error",27),o(1," Price must be greater than 0 "),r())}function zt(e,t){e&1&&(i(0,"mat-error",27),o(1," Price must be less than 1,000,000 "),r())}function Ht(e,t){e&1&&(i(0,"mat-error",27),o(1," URL is required "),r())}function $t(e,t){e&1&&(i(0,"mat-error",27),o(1," Description is required "),r())}function Qt(e,t){e&1&&(i(0,"mat-error",27),o(1," Description must have at least 3 characters "),r())}function Zt(e,t){e&1&&(i(0,"mat-error",27),o(1," Description must have fewer than 500 characters "),r())}var ot=(()=>{let t=class t{constructor(d,l){this.dialogRef=d,this.product=l,this.form=new ae({name:new _("",[p.required,p.minLength(3),p.maxLength(50)]),brand:new _("",[p.required,p.minLength(3),p.maxLength(50)]),color:new _("",[p.required,p.minLength(3),p.maxLength(50)]),category:new _("",[p.required,p.minLength(3),p.maxLength(50)]),price:new _(0,[p.required,p.min(.01),p.max(1e6)]),description:new _("",[p.required,p.minLength(3),p.maxLength(500)]),imageUrl:new _("",[p.required])})}closeDialog(){this.resetForm(),this.dialogRef.close()}updateProduct(){this.form.markAllAsTouched(),!this.form.invalid&&(this.form.get("price")?.setValue(Number(this.form.get("price")?.value)),this.dialogRef.close(this.form.value),this.resetForm())}resetForm(){this.form.reset(),this.form.get("name")?.setValue(this.product.name),this.form.get("brand")?.setValue(this.product.brand),this.form.get("color")?.setValue(this.product.color),this.form.get("category")?.setValue(this.product.category),this.form.get("price")?.setValue(this.product.price),this.form.get("description")?.setValue(this.product.description),this.form.get("imageUrl")?.setValue(this.product.imageUrl)}ngOnInit(){this.resetForm()}};t.\u0275fac=function(l){return new(l||t)(h(w),h(te))},t.\u0275cmp=C({type:t,selectors:[["app-update-product-dialog"]],decls:69,vars:20,consts:[["mat-dialog-title","",1,"mat-dialog-title"],["svgIcon","shoe-sneaker",1,"mr-2"],[1,"flex-spacer"],["mat-icon-button","",3,"click"],["svgIcon","close"],[1,"py-2","form",3,"formGroup"],["appearance","outline","color","primary",1,"mat-form-field"],["matInput","","type","text","placeholder","Name...","formControlName","name"],["matPrefix","","svgIcon","shoe-sneaker"],["class","mat-error",4,"ngIf"],["matInput","","type","text","placeholder","Brand...","formControlName","brand"],["matPrefix","","svgIcon","domain"],["matInput","","type","text","placeholder","Color...","formControlName","color"],["matPrefix","","svgIcon","palette"],["matInput","","type","text","placeholder","Category...","formControlName","category"],["matPrefix","","svgIcon","tag"],["matInput","","type","text","placeholder","Price...","formControlName","price","appCurrencyFormatter",""],["matPrefix","","svgIcon","cash"],["matInput","","type","text","placeholder","URL...","formControlName","imageUrl"],["matPrefix","","svgIcon","web"],["appearance","outline","color","primary","id","description-field",1,"mat-form-field"],["matInput","","type","text","placeholder","Description...","formControlName","description","rows","3"],["matPrefix","","svgIcon","form-textbox"],["align","end",1,"mat-dialog-actions"],["mat-button","","color","basic",3,"click"],["mat-flat-button","","color","primary",3,"click"],["svgIcon","pencil"],[1,"mat-error"]],template:function(l,n){if(l&1&&(i(0,"h2",0),c(1,"mat-icon",1),o(2," Edit Product "),c(3,"div",2),i(4,"button",3),g("click",function(){return n.closeDialog()}),c(5,"mat-icon",4),r()(),i(6,"mat-dialog-content")(7,"form",5)(8,"mat-form-field",6)(9,"mat-label"),o(10," Name "),r(),c(11,"input",7)(12,"mat-icon",8),u(13,Mt,2,0,"mat-error",9)(14,Nt,2,0,"mat-error",9)(15,kt,2,0,"mat-error",9),r(),i(16,"mat-form-field",6)(17,"mat-label"),o(18," Brand "),r(),c(19,"input",10)(20,"mat-icon",11),u(21,qt,2,0,"mat-error",9)(22,Ut,2,0,"mat-error",9)(23,Lt,2,0,"mat-error",9),r(),i(24,"mat-form-field",6)(25,"mat-label"),o(26," Color "),r(),c(27,"input",12)(28,"mat-icon",13),u(29,Ft,2,0,"mat-error",9)(30,Rt,2,0,"mat-error",9)(31,At,2,0,"mat-error",9),r(),i(32,"mat-form-field",6)(33,"mat-label"),o(34," Category "),r(),c(35,"input",14)(36,"mat-icon",15),u(37,Vt,2,0,"mat-error",9)(38,Bt,2,0,"mat-error",9)(39,Ot,2,0,"mat-error",9),r(),i(40,"mat-form-field",6)(41,"mat-label"),o(42," Price (\u20B9) "),r(),c(43,"input",16)(44,"mat-icon",17),u(45,jt,2,0,"mat-error",9)(46,Gt,2,0,"mat-error",9)(47,zt,2,0,"mat-error",9),r(),i(48,"mat-form-field",6)(49,"mat-label"),o(50," Image URL "),r(),c(51,"input",18)(52,"mat-icon",19),u(53,Ht,2,0,"mat-error",9),r(),i(54,"mat-form-field",20)(55,"mat-label"),o(56," Description "),r(),c(57,"textarea",21)(58,"mat-icon",22),u(59,$t,2,0,"mat-error",9)(60,Qt,2,0,"mat-error",9)(61,Zt,2,0,"mat-error",9),r()()(),i(62,"mat-dialog-actions",23)(63,"button",24),g("click",function(){return n.closeDialog()}),c(64,"mat-icon",4),o(65," Cancel "),r(),i(66,"button",25),g("click",function(){return n.updateProduct()}),c(67,"mat-icon",26),o(68," Edit "),r()()),l&2){let s,E,k,q,U,L,F,R,A,V,B,O,j,G,z,H,$,Q,Z;a(7),m("formGroup",n.form),a(6),m("ngIf",(s=n.form.get("name"))==null?null:s.hasError("required")),a(),m("ngIf",(E=n.form.get("name"))==null?null:E.hasError("minlength")),a(),m("ngIf",(k=n.form.get("name"))==null?null:k.hasError("maxlength")),a(6),m("ngIf",(q=n.form.get("brand"))==null?null:q.hasError("required")),a(),m("ngIf",(U=n.form.get("brand"))==null?null:U.hasError("minlength")),a(),m("ngIf",(L=n.form.get("brand"))==null?null:L.hasError("maxlength")),a(6),m("ngIf",(F=n.form.get("color"))==null?null:F.hasError("required")),a(),m("ngIf",(R=n.form.get("color"))==null?null:R.hasError("minlength")),a(),m("ngIf",(A=n.form.get("color"))==null?null:A.hasError("maxlength")),a(6),m("ngIf",(V=n.form.get("category"))==null?null:V.hasError("required")),a(),m("ngIf",(B=n.form.get("category"))==null?null:B.hasError("minlength")),a(),m("ngIf",(O=n.form.get("category"))==null?null:O.hasError("maxlength")),a(6),m("ngIf",(j=n.form.get("price"))==null?null:j.hasError("required")),a(),m("ngIf",(G=n.form.get("price"))==null?null:G.hasError("min")),a(),m("ngIf",(z=n.form.get("price"))==null?null:z.hasError("max")),a(6),m("ngIf",(H=n.form.get("imageUrl"))==null?null:H.hasError("required")),a(6),m("ngIf",($=n.form.get("description"))==null?null:$.hasError("required")),a(),m("ngIf",(Q=n.form.get("description"))==null?null:Q.hasError("minlength")),a(),m("ngIf",(Z=n.form.get("description"))==null?null:Z.hasError("maxlength"))}},dependencies:[b,me,ie,oe,ne,le,ce,x,v,P,T,N,M,ue,pe,de,se,fe,he],styles:[".form[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;column-gap:16px}#description-field[_ngcontent-%COMP%]{grid-column:1/span 2}"]});let e=t;return e})();var Jt=()=>[10,15,20];function Kt(e,t){e&1&&(i(0,"th",21),o(1,"Name"),r())}function Wt(e,t){if(e&1&&(i(0,"td",22),o(1),r()),e&2){let f=t.$implicit;a(),S(f.name)}}function Xt(e,t){e&1&&(i(0,"th",21),o(1,"Brand"),r())}function Yt(e,t){if(e&1&&(i(0,"td",22),o(1),r()),e&2){let f=t.$implicit;a(),S(f.brand)}}function er(e,t){e&1&&(i(0,"th",21),o(1,"Color"),r())}function tr(e,t){if(e&1&&(i(0,"td",22),o(1),r()),e&2){let f=t.$implicit;a(),S(f.color)}}function rr(e,t){e&1&&(i(0,"th",21),o(1,"Category"),r())}function ir(e,t){if(e&1&&(i(0,"td",22),o(1),r()),e&2){let f=t.$implicit;a(),S(f.category)}}function or(e,t){e&1&&(i(0,"th",21),o(1,"Price"),r())}function nr(e,t){if(e&1&&(i(0,"td",22),o(1),we(2,"number"),r()),e&2){let f=t.$implicit;a(),Se("\u20B9 ",Te(2,1,f.price,"1.2-2"),"")}}function ar(e,t){e&1&&(i(0,"th",21),o(1,"Actions"),r())}function mr(e,t){if(e&1){let f=Ce();i(0,"td",22)(1,"button",23),g("click",function(){let l=J(f).$implicit,n=I(2);return K(n.editProduct(l))}),i(2,"mat-icon"),o(3,"edit"),r()(),i(4,"button",24),g("click",function(){let l=J(f).$implicit,n=I(2);return K(n.deleteProduct(l))}),i(5,"mat-icon"),o(6,"delete"),r()()()}}function lr(e,t){e&1&&c(0,"tr",25)}function cr(e,t){e&1&&c(0,"tr",26)}function pr(e,t){if(e&1){let f=Ce();i(0,"main")(1,"mat-card",2)(2,"mat-card-header")(3,"mat-card-title",3),c(4,"mat-icon",4),o(5," Manage Products "),r()(),i(6,"mat-card-content")(7,"div",5)(8,"button",6),g("click",function(){J(f);let l=I();return K(l.addProduct())}),c(9,"mat-icon",7),o(10," Add Product "),r()(),i(11,"div",8)(12,"table",9),D(13,10),u(14,Kt,2,0,"th",11)(15,Wt,2,1,"td",12),y(),D(16,13),u(17,Xt,2,0,"th",11)(18,Yt,2,1,"td",12),y(),D(19,14),u(20,er,2,0,"th",11)(21,tr,2,1,"td",12),y(),D(22,15),u(23,rr,2,0,"th",11)(24,ir,2,1,"td",12),y(),D(25,16),u(26,or,2,0,"th",11)(27,nr,3,4,"td",12),y(),D(28,17),u(29,ar,2,0,"th",11)(30,mr,7,0,"td",12),y(),u(31,lr,1,0,"tr",18)(32,cr,1,0,"tr",19),r()(),i(33,"mat-paginator",20),g("page",function(l){J(f);let n=I();return K(n.selectPage(l))}),r()()()()}if(e&2){let f=I();a(12),m("dataSource",f.tableProducts),a(19),m("matHeaderRowDef",f.displayedColumns),a(),m("matRowDefColumns",f.displayedColumns),a(),m("pageSizeOptions",be(5,Jt))("length",f.products.length)}}function dr(e,t){if(e&1&&c(0,"app-loading-view",27),e&2){let f=I();m("state",f.viewState)}}var nt=(()=>{let t=class t{constructor(d,l,n){this.productsService=d,this.productMapper=l,this.dialog=n,this.displayedColumns=["name","brand","color","category","price","actions"],this.viewState="loading",this.pageSize=10,this.pageIndex=0}ngOnInit(){this.getProducts()}getProducts(){this.viewState="loading",this.productsService.getAllProducts().subscribe({next:d=>{this.products=this.productMapper.mapGetAllProductsResponseDtoToModel(d),this.renderProductPagination(),this.viewState="ready"},error:d=>{this.viewState="error"}})}addProduct(){this.dialog.open(it,{width:re.lg}).afterClosed().subscribe(l=>{l&&(this.loadingDialog.open(),this.productsService.createProduct(l).pipe(X(()=>this.loadingDialog.close())).subscribe({next:()=>{this.getProducts()},error:n=>{this.errorDialog.open("An error occurred while creating the product",n.message)}}))})}editProduct(d){this.dialog.open(ot,{width:re.lg,data:d}).afterClosed().subscribe(n=>{n&&(this.loadingDialog.open(),this.productsService.updateProduct(n,d.id).pipe(X(()=>this.loadingDialog.close())).subscribe({next:()=>{let s=this.products.findIndex(E=>E.id===d.id);this.products[s]=n,this.renderProductPagination()},error:s=>{this.errorDialog.open("An error occurred while updating the product",s.message)}}))})}deleteProduct(d){this.dialog.open(tt,{width:re.md,data:d}).afterClosed().subscribe(n=>{n&&(this.loadingDialog.open(),this.productsService.deleteProduct(n.id).pipe(X(()=>this.loadingDialog.close())).subscribe({next:()=>{this.products=this.products.filter(s=>s.id!==n.id),this.renderProductPagination()},error:s=>{this.errorDialog.open("An error occurred while deleting the product",s.message)}}))})}renderProductPagination(){let d=this.pageIndex*this.pageSize,l=d+this.pageSize;this.tableProducts=this.products.slice(d,l)}selectPage(d){this.pageSize=d.pageSize,this.pageIndex=d.pageIndex}};t.\u0275fac=function(l){return new(l||t)(h(qe),h(Ue),h(ke))},t.\u0275cmp=C({type:t,selectors:[["app-products"]],viewQuery:function(l,n){if(l&1&&(xe(ge,5),xe(_e,5)),l&2){let s;ve(s=Pe())&&(n.loadingDialog=s.first),ve(s=Pe())&&(n.errorDialog=s.first)}},decls:5,vars:2,consts:[[4,"ngIf"],["view","products",3,"state",4,"ngIf"],[1,"mx-4","mt-5"],[1,"inline-flex-aligned"],["svgIcon","shoe-sneaker",1,"ml-3","mr-2"],[1,"flex-aligned","justify-end","mt-3"],["mat-raised-button","","color","primary",3,"click"],["svgIcon","plus-circle"],["id","table-responsive"],["mat-table","",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","brand"],["matColumnDef","color"],["matColumnDef","category"],["matColumnDef","price"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",1,"mt-3",3,"page","pageSizeOptions","length"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","","color","primary",3,"click"],["mat-icon-button","","color","warn",3,"click"],["mat-header-row",""],["mat-row",""],["view","products",3,"state"]],template:function(l,n){l&1&&(c(0,"app-navbar"),u(1,pr,34,6,"main",0)(2,dr,1,1,"app-loading-view",1),c(3,"app-error-dialog")(4,"app-loading-dialog")),l&2&&(a(),m("ngIf",n.viewState==="ready"),a(),m("ngIf",n.viewState!=="ready"))},dependencies:[b,x,v,P,Fe,Ae,Ve,Re,je,ze,Ze,He,Ge,Je,$e,Qe,Ke,We,Xe,Be,Oe,ge,_e,Me],styles:["mat-card[_ngcontent-%COMP%]{border-radius:25px;box-shadow:0 0 12px #0003}mat-card-content[_ngcontent-%COMP%]   #table-responsive[_ngcontent-%COMP%]{width:100%;overflow-x:scroll}.mat-column-actions[_ngcontent-%COMP%]{text-align:center;width:150px;white-space:nowrap}.mat-column-price[_ngcontent-%COMP%]{white-space:nowrap}"]});let e=t;return e})();var sr=[{path:"",component:nt}],at=(()=>{let t=class t{};t.\u0275fac=function(l){return new(l||t)},t.\u0275mod=ee({type:t}),t.\u0275inj=Y({imports:[Ee.forChild(sr),Ee]});let e=t;return e})();var Yr=(()=>{let t=class t{};t.\u0275fac=function(l){return new(l||t)},t.\u0275mod=ee({type:t}),t.\u0275inj=Y({imports:[Ne,Le,at,Ye,et]});let e=t;return e})();export{Yr as ProductsModule};
