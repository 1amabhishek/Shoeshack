import{a as h,k as m,l as u,n as l,o as p}from"./chunk-ZU2ZXMGP.js";import{ba as c,g as r,ga as n}from"./chunk-RJHPHPNE.js";var D=(()=>{let s=class s{constructor(e){this.httpClient=e,this.mockPurchases=p,this.mockPaymentCards=l,this.mockUsers=u,this.mockProducts=m}createPurchase(e){return new r(t=>{setTimeout(()=>{let o=this.mockPurchases.length+1,d=this.mockPaymentCards.find(a=>a.number===e.paymentDetails.number);this.mockPurchases.push({id:o,total:e.total,purchaseDate:new Date,paymentCard:d,user:this.mockUsers[0],items:e.products.map(a=>({product:this.mockProducts.find(k=>k.id===a.id),quantity:a.quantity}))}),t.next(),t.complete()},1e3)})}deletePurchase(e){return new r(t=>{setTimeout(()=>{this.mockPurchases=this.mockPurchases.filter(o=>o.id!==e),t.next(),t.complete()},1e3)})}getAllPurchasesForCurrentUser(){return new r(e=>{setTimeout(()=>{e.next({purchases:this.mockPurchases.filter(t=>t.user.id===this.mockUsers[0].id).map(t=>({id:t.id,purchaseDate:t.purchaseDate,total:t.total,paymentDetails:t.paymentCard,items:t.items}))}),e.complete()},1e3)})}getAllPurchases(){return new r(e=>{setTimeout(()=>{e.next({purchases:this.mockPurchases.map(t=>({id:t.id,purchaseDate:t.purchaseDate,total:t.total,paymentDetails:t.paymentCard,items:t.items,user:t.user}))}),e.complete()},1e3)})}};s.\u0275fac=function(t){return new(t||s)(n(h))},s.\u0275prov=c({token:s,factory:s.\u0275fac,providedIn:"root"});let i=s;return i})();export{D as a};
